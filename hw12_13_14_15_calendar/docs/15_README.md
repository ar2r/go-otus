## –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ15 ¬´–î–æ–∫–µ—Ä–∏–∑–∞—Ü–∏—è –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ö–∞–ª–µ–Ω–¥–∞—Ä—è¬ª

–î–∞–Ω–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –¥–≤—É—Ö —á–∞—Å—Ç–µ–π.

–ù–µ –∑–∞–±—ã–≤–∞–µ–º –ø—Ä–æ https://github.com/golang-standards/project-layout.

### 1) –î–æ–∫–µ—Ä–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ:

* üü¢ —Å–æ–∑–¥–∞—Ç—å Dockerfile –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ (–ö–∞–ª–µ–Ω–¥–∞—Ä—å, –†–∞—Å—Å—ã–ª—å—â–∏–∫, –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫);
* üü¢ —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑—ã –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ö –ª–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫;
* üü¢ —Å–æ–∑–¥–∞—Ç—å docker-compose —Ñ–∞–π–ª, –∫–æ—Ç–æ—Ä—ã–π –∑–∞–ø—É—Å–∫–∞–µ—Ç PostgreSQL, RabbitMQ –∏ –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã –≤–º–µ—Å—Ç–µ
(–¥–ª—è "–Ω–µ—Ä–æ–¥–Ω—ã—Ö" —Å–µ—Ä–≤–∏—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑—ã –∏–∑ Docker Hub);
* üü† –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
(–µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É, —Ç–æ —Å–∫–æ—Ä–µ–µ –≤—Å–µ–≥–æ –æ–Ω–∞ —É–∂–µ —ç—Ç–æ —É–º–µ–µ—Ç); –≤ –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ
–ø—Ä–∏–¥–µ—Ç—Å—è "–ø–æ–¥–∫–ª–∞–¥—ã–≤–∞—Ç—å" –∫–æ–Ω—Ñ–∏–≥ —Å–µ—Ä–≤–∏—Å—É —Å –ø–æ–º–æ—â—å—é Dockerfile / docker-compose -
–ø—Ä–∏ —ç—Ç–æ–º –º–æ–∂–Ω–æ "–∑–∞–ø–æ–ª–Ω—è—Ç—å" –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è, –Ω–∞–ø—Ä–∏–º–µ—Ä
```bash
$ envsubst < config_template.json > config.json
```

* üü¢ –µ—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Ä—É–∫–∞–º–∏, –∞ –Ω–µ –Ω–∞ —Å—Ç–∞—Ä—Ç–µ —Å–µ—Ä–≤–∏—Å–∞, —Ç–æ —Ç–∞–∫–∂–µ –≤ docker-compose
–¥–æ–ª–∂–µ–Ω –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è one-shot —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –¥–µ–ª–∞–µ—Ç —ç—Ç–æ (–ø—Ä–∏–º–µ–Ω—è–µ—Ç SQL –º–∏–≥—Ä–∞—Ü–∏–∏,
—Å–æ–∑–¥–∞–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ë–î).
* üü¢ –ø–æ—Ä—Ç—ã —Å–µ—Ä–≤–µ—Ä–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö API, –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –Ω–∞ host.

üü¢ –£ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∑–∞–ø—É—Å—Ç–∏—Ç—å –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã
`make up` (–≤–Ω—É—Ç—Ä–∏ `docker-compose up`) –∏ –ø–æ–≥–∞—Å–∏—Ç—å —Å –ø–æ–º–æ—â—å—é `make down`.

HTTP API, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ URL **http://localhost:8888/**.

### 2) –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ:

* üî¥ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞–∫–µ—Ç –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤.
* üî¥ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –Ω–∞ —è–∑—ã–∫–µ Go; –ø—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
[godog](https://github.com/cucumber/godog) / [ginkgo](https://github.com/onsi/ginkgo), –Ω–æ
–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º —ç—Ç–æ **–Ω–µ —è–≤–ª—è–µ—Ç—Å—è**.
* üî¥ —Å–æ–∑–¥–∞—Ç—å docker-compose —Ñ–∞–π–ª, –ø–æ–¥–Ω–∏–º–∞—é—â–∏–π –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–µ–∫—Ç–∞ + –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ—Å—Ç–∞–º–∏;
* üî¥ —Ä–∞—Å—à–∏—Ä–∏—Ç—å Makefile –∫–æ–º–∞–Ω–¥–æ–π `integration-tests`, `make integration-tests` –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã;
**–Ω–µ —Å—Ç–æ–∏—Ç —Å–º–µ—à–∏–≤–∞—Ç—å —ç—Ç–æ —Å `make test`, –∏–Ω–∞—á–µ CI-–ø–∞–π–ø–ª–∞–π–Ω –Ω–µ –ø—Ä–æ–π–¥—ë—Ç.**
* üî¥ –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç—å –≤ Merge Request –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã `make integration-tests`.

–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã `make integration-tests`:

- üî¥ –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–¥–Ω—è—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ (`docker-compose`), –ø—Ä–æ–≥–Ω–∞—Ç—å —Ç–µ—Å—Ç—ã –∏ –ø–æ–¥—á–∏—Å—Ç–∏—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∑–∞ —Å–æ–±–æ–π;
- üî¥ –≤ —Å–ª—É—á–∞–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥–∞ –¥–æ–ª–∂–Ω–∞ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å 0, –∏–Ω–∞—á–µ 1.

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏

- üî¥ –ü—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `make up` / `make down` - 3 –±–∞–ª–ª–∞
- üî¥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `make integration-tests`. –ö–æ–º–∞–Ω–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–Ω—ã–π –∫–æ–¥ –æ—Ç–≤–µ—Ç–∞ - 1 –±–∞–ª–ª
- üî¥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –±–∏–∑–Ω–µ—Å —Å—Ü–µ–Ω–∞—Ä–∏–∏:
  - üî¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–∏–∑–Ω–µ—Å –æ—à–∏–±–æ–∫ - 2 –±–∞–ª–ª–∞
  - üî¥ –ø–æ–ª—É—á–µ–Ω–∏–µ –ª–∏—Å—Ç–∏–Ω–≥–∞ —Å–æ–±—ã—Ç–∏–π –Ω–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é/–º–µ—Å—è—Ü - 2 –±–∞–ª–ª–∞
  - üî¥ –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π (–Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ—Ä–∞–±–æ—Ç–∞—Ç—å sender —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–ª –∫—É–¥–∞-—Ç–æ –æ —Å—Ç–∞—Ç—É—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (
    –ë–î/–∫—Ä–æ–ª–∏–∫)) - 2 –±–∞–ª–ª–∞

#### –ó–∞—á—ë—Ç –æ—Ç 7 –±–∞–ª–ª–æ–≤
